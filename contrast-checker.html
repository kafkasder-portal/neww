<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG Kontrast Kontrol Aracı</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .color-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .test-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            background: white;
        }
        .color-sample {
            padding: 20px;
            margin: 10px 0;
            border-radius: 6px;
            font-weight: 500;
        }
        .contrast-info {
            margin-top: 10px;
            font-size: 14px;
        }
        .pass { color: #059669; }
        .fail { color: #dc2626; }
        .ratio {
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>WCAG Kontrast Kontrol Aracı</h1>
            <p>Dernek Yönetim Paneli renk sisteminin WCAG AA/AAA uyumluluğunu kontrol edelim</p>
        </div>

        <div id="colorTests"></div>
    </div>

    <script>
        // HSL to RGB conversion
        function hslToRgb(h, s, l) {
            s /= 100;
            l /= 100;
            const c = (1 - Math.abs(2 * l - 1)) * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = l - c / 2;
            let r = 0, g = 0, b = 0;

            if (0 <= h && h < 60) {
                r = c; g = x; b = 0;
            } else if (60 <= h && h < 120) {
                r = x; g = c; b = 0;
            } else if (120 <= h && h < 180) {
                r = 0; g = c; b = x;
            } else if (180 <= h && h < 240) {
                r = 0; g = x; b = c;
            } else if (240 <= h && h < 300) {
                r = x; g = 0; b = c;
            } else if (300 <= h && h < 360) {
                r = c; g = 0; b = x;
            }

            r = Math.round((r + m) * 255);
            g = Math.round((g + m) * 255);
            b = Math.round((b + m) * 255);

            return [r, g, b];
        }

        // Calculate relative luminance
        function getLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        // Calculate contrast ratio
        function getContrastRatio(color1, color2) {
            const lum1 = getLuminance(...color1);
            const lum2 = getLuminance(...color2);
            const brightest = Math.max(lum1, lum2);
            const darkest = Math.min(lum1, lum2);
            return (brightest + 0.05) / (darkest + 0.05);
        }

        // Convert HSL string to RGB
        function parseHSL(hslString) {
            const [h, s, l] = hslString.split(' ').map(v => parseFloat(v.replace('%', '')));
            return hslToRgb(h, s, l);
        }

        // Color combinations to test
        const colorTests = [
            {
                name: 'Brand Primary on White',
                foreground: '220 85% 25%', // Brand Primary
                background: '0 0% 100%', // White
                usage: 'Primary buttons, links'
            },
            {
                name: 'Success on White',
                foreground: '142 76% 22%', // Success
                background: '0 0% 100%', // White
                usage: 'Success messages, positive actions'
            },
            {
                name: 'Warning on White',
                foreground: '38 92% 30%', // Warning
                background: '0 0% 100%', // White
                usage: 'Warning messages'
            },
            {
                name: 'Danger on White',
                foreground: '0 84% 30%', // Danger
                background: '0 0% 100%', // White
                usage: 'Error messages, destructive actions'
            },
            {
                name: 'Text Primary on White',
                foreground: '210 25% 8%', // Neutral 900
                background: '0 0% 100%', // White
                usage: 'Primary text content'
            },
            {
                name: 'Text Secondary on White',
                foreground: '210 18% 22%', // Neutral 700
                background: '0 0% 100%', // White
                usage: 'Secondary text content'
            },
            {
                name: 'Text Muted on White',
                foreground: '210 12% 44%', // Neutral 500
                background: '0 0% 100%', // White
                usage: 'Muted text, placeholders'
            },
            {
                name: 'White on Brand Primary',
                foreground: '0 0% 100%', // White
                background: '220 85% 25%', // Brand Primary
                usage: 'Button text, inverse text'
            },
            {
                name: 'White on Success',
                foreground: '0 0% 100%', // White
                background: '142 76% 22%', // Success
                usage: 'Success button text'
            },
            {
                name: 'White on Danger',
                foreground: '0 0% 100%', // White
                background: '0 84% 30%', // Danger
                usage: 'Destructive button text'
            }
        ];

        function createColorTest(test) {
            const fgRgb = parseHSL(test.foreground);
            const bgRgb = parseHSL(test.background);
            const ratio = getContrastRatio(fgRgb, bgRgb);
            
            const aaPass = ratio >= 4.5;
            const aaaPass = ratio >= 7;
            const aaLargePass = ratio >= 3;
            const aaaLargePass = ratio >= 4.5;

            const fgColor = `rgb(${fgRgb.join(', ')})`;
            const bgColor = `rgb(${bgRgb.join(', ')})`;

            return `
                <div class="test-card">
                    <h3>${test.name}</h3>
                    <p><strong>Kullanım:</strong> ${test.usage}</p>
                    <div class="color-sample" style="color: ${fgColor}; background-color: ${bgColor};">
                        Bu örnek metindir. WCAG kontrast testini göstermektedir.
                    </div>
                    <div class="contrast-info">
                        <div class="ratio">Kontrast Oranı: ${ratio.toFixed(2)}:1</div>
                        <div class="${aaPass ? 'pass' : 'fail'}">WCAG AA Normal: ${aaPass ? 'GEÇTİ' : 'BAŞARISIZ'}</div>
                        <div class="${aaaPass ? 'pass' : 'fail'}">WCAG AAA Normal: ${aaaPass ? 'GEÇTİ' : 'BAŞARISIZ'}</div>
                        <div class="${aaLargePass ? 'pass' : 'fail'}">WCAG AA Büyük: ${aaLargePass ? 'GEÇTİ' : 'BAŞARISIZ'}</div>
                        <div class="${aaaLargePass ? 'pass' : 'fail'}">WCAG AAA Büyük: ${aaaLargePass ? 'GEÇTİ' : 'BAŞARISIZ'}</div>
                    </div>
                </div>
            `;
        }

        // Generate all tests
        document.getElementById('colorTests').innerHTML = `
            <div class="color-test">
                ${colorTests.map(createColorTest).join('')}
            </div>
        `;
    </script>
</body>
</html>